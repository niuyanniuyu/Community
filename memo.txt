注册模块开发流程
●访问注册页面
-点击顶部区域内的链接,打开注册页面。
●提交注册数据
-通过表单提交数据。
-服务端验证账号是否已存在、邮箱是否已注册。
-服务端发送激活邮件。I
●激活注册账号
-点击邮件中的链接，访问服务端的激活服务。

登录退出模块开发流程
●访问登录页面
-点击顶部区域内的链接,打开登录页面。
●登录
-验证账号、密码、验证码。
-成功时，生成登录凭证，发放给客户端。
-失败时，跳转回登录页。
●退出
-将登录凭证修改为失效状态。
-跳转至网站首页。

●拦截器
-定义拦截器，实现HandlerInterceptor
-配置拦截器，为它指定拦截、排除的路径
-可以通过配置文件和注解方法实现
●拦截器应用
-在请求开始时查询登录用户
-在本次请求中持有用户数据
-在模板视图上显示用户数据
-在请求结束时清理用户数据

●Ticket查询机制
浏览器cookie[ticket] -> 服务器request[ticket] -> 数据库login_ticket[ticket]
-> 服务器user -> 服务器Template -> 浏览器

●上传文件
-请求:必须是POST请求
-表单: enctype= "multipart/form-data"
-Spring MVC:通过MultipartFile处理上传文件

个人信息模块开发流程
●访问账号设置页面
-上传头像
-获取头像
●获取原密码和新密码
-判断合法性
-修改密码

●敏感词过滤器
-定义前缀树
-根据敏感词，初始化前缀树
-编写过滤敏感词的方法

显示评论模块开发流程
●数据层
-根据实体查询一页评论数据。
-根据实体查询评论的数量。
●业务层
-处理查询评论的业务。
-处理查询评论数量的业务。
●表现层
-显示帖子详情数据时，
-同时显示该帖子所有的评论数据。

添加评论模块开发流程
●数据层
-增加评论数据。
-修改帖子的评论数量。
●业务层
-处理添加评论的业务:
-先增加评论、再更新帖子的评论数量。
●表现层
-处理添加评论数据的请求。
-设置添加评论的表单。

私信模块开发流程
●私信列表
-查询当前用户的会话列表，
-每个会话只显示一条最新的私信。
-支持分页显示。
●私信详情
-查询某个会话所包含的私信。
-支持分页显示。
●发送私信
-采用异步的方式发送私信。
-发送成功后刷新私信列表。
●设置已读
-访问私信详情时，
-将显示的私信设置为已读状态。

统一处理异常
●@ControllerAdvice
-用于修饰类，表示该类是Controller的全局配置类。
-在此类中，可以对Controller进行如下三种全局配置:
-异常处理方案、绑定数据方案、绑定参数方案。
●@ExceptionHandler
-用于修饰方法，该方法会在Controller出现异常后被调用，用于处理捕获到的异常。
●@ModelAttribute
-用于修饰方法，该方法会在Controller方法执行前被调用， 用于为Model对象绑定参数。
●@DataBinder
-用于修饰方法，该方法会在Controller方法执行前被调用，用于绑定参数的转换器。

统一日志管理
●统一使用Spring AOP管理

使用Redis数据库
●热门帖子缓存、排行榜、计数器、点赞、消息队列(kafka)等。

点赞
●支持对帖子、评论点赞。
-第1次点赞，第2次取消点赞
●首页点赞数量
-统计帖子的点赞数量
●详情页点赞数量
-统计点赞数量
-显示点赞状态
●我收到的赞
-以用户为Key记录点赞数量
-inc(key),dec(key)
●开发个人主页
-以用户为key,查询被点赞数量

关注
●开发关注、取消关注功能
-统计用户的关注数、粉丝数
-若A关注了B，则A是B的Follower (粉丝)，B是A的Followee (目标)
-关注的目标可以是用户、帖子、题目等，在实现时将这些目标抽象为实体
●关注列表、粉丝列表
-查询某个用户关注的人，支持分页。
-查询某个用户的粉丝，支持分页。

优化登录模块
●使用Redis存储验证码
-验证码需要频繁的访问与刷新，对性能要求较高。
-验证码不需永久保存，通常在很短的时间后就会失效。
-分布式部署时，存在Session共享的问题。
●使用Redis存储登录凭证
-处理每次请求时，都要查询用户的登录凭证，访问的频率非常高。
●使用Redis缓存用户信息
-处理每次请求时，都要根据凭证查询用户信息,访问的频率非常高。
-login_ticket表可以失效了

Kafka阻塞队列
●BlockingQueue
-解决线程通信的问题。
-阻塞方法: put、 take。
●生产者消费者模式
-生产者:产生数据的线程。
-消费者:使用数据的线程。
●实现类
- ArrayBlockingQueue
- LinkedBlockingQueue
- PriorityBlockingQueue、 SynchronousQueue、 DelayQueue等。

●Kafka简介
-Kafka是一个分布式的流媒体平台。
-应用:消息系统、日志收集、用户行为追踪、流式处理。
●Kafka特点
-高吞吐量、消息持久化、高可靠性、高扩展性。
●Kafka术语
-Broker、Zookeeper
-Topic、Partition、 Offset
-Leader Replica、Follower Replica
●Kafka开启服务
-bin\windows\zookeeper-server-start.bat config\zookeeper.properties
-bin\windows\kafka-server-start.bat config\server.properties

Spring整合Kafka
●引入依赖
- spring-kafka
●配置Kafka
-配置server、consumer
●访问Kafka
-生产者
    kafkaTemplate.send(topic, data) ;
-消费者
    @KafkaListener (topics = {"test"})
    public void handl eMessage (Consume rRecord record) { }


发送系统通知
●触发事件
-评论后,发布通知
-点赞后，发布通知
-关注后，发布通知
●处理事件
-封装事件对象
-开发事件的生产者
-开发事件的消费者
